<!DOCTYPE html>
<html>
<body>

<h1>My First Heading</h1>
<p>My first paragraph.</p>
    
    <p> api speed test </p>
<textarea name="text" id="urltext" cols="74" rows="1"></textarea>
    <br>
 <script>
   
var elem=document.getElementById('urltext')
var leoTime=0, promp='fat cat'
var leoWait=10, dims=512, leo
var leoApiKey
elem.value='Hello'
alert('starting')
leoApiKey="693a5c60-f266-4bf7-934f-3db55cd5c5f6"
     

leonardo()
     

     
function leonardo(){
  const option1 = {
  method: 'POST',
  headers: {accept: 'application/json', 'content-type': 'application/json',
    authorization: `Bearer ${leoApiKey}` },
  body: JSON.stringify({prompt: 'cat', 
  modelId: '6bef9f1b-29cb-40c7-b9df-32b51c1f67d3',
  width: dims, height: dims})
      }

leo=""
fetch('https://cloud.leonardo.ai/api/rest/v1/generations', option1)
  .then(response => response.json())
  .then(data => {leo=data.sdGenerationJob.generationId
                elem.value="SeriesID "+leo
                leoTimer()})
  .catch(err => {alert('APIerror check key')}
     
 }
     
function leoTimer(){
  if(leoTime<10){leoTime++;
                 elem.value=leoTime
                 setTimeout(leoTimer,100);return}
  
  //secondAPI()
}
  */
  
  
    /*
function secondAPI(){
  elem.value='Fetching Image URLs'
 
  const option2 = {
  method: 'GET',
  headers: {
    accept: 'application/json',
    authorization: `Bearer ${leoApiKey}`
  }
};
   fetch('https://cloud.leonardo.ai/api/rest/v1/generations/'+leo, option2)
  .then(response => response.json())
  .then(data => {
    alert(data.generations_by_pk.generated_images[0].url)
    }
    
    */
   </script>
</body>
</html>
